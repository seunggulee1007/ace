(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d916b39e"],{"6a9d":function(t,e,s){"use strict";s.d(e,"d",(function(){return a})),s.d(e,"b",(function(){return r})),s.d(e,"e",(function(){return o})),s.d(e,"c",(function(){return c})),s.d(e,"a",(function(){return i}));s("99af");var n=s("4ec3");function a(){return Object(n["a"])("/dept/deptList","get")}function o(t){return Object(n["a"])("/dept/","put",t)}function r(t){return Object(n["a"])("/dept/","post",t)}function i(t){return Object(n["a"])("/dept/".concat(t),"delete")}function c(t,e,s){return Object(n["a"])("/dept/moveDept/".concat(t,"/").concat(e,"/").concat(s),"put")}},d277:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("UserRegistrationForm")},a=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container admin-container"},[s("section",{staticClass:"section__tree"},[t._m(0),s("div",{staticClass:"tree-area"},[s("el-tree",{attrs:{data:t.treeData,"node-key":"deptId","default-expanded-keys":[0],props:t.defaultProps,accordion:""},on:{"node-click":t.choiceDept}})],1)]),s("section",{staticClass:"section__contents"},[s("div",{staticClass:"inner-wrap"},[s("div",{staticClass:"section-top"},[s("h3",{staticClass:"section__title"},[t._v("사용자 등록")]),s("div",{staticClass:"buttons"},[t.deptInfo.deptId>0?s("button",{staticClass:"button button__add",attrs:{type:"button"},on:{click:function(e){t.modalFlag=!0}}},[s("span",{staticClass:"icon icon-add"}),t._v("사용자 추가 ")]):t._e(),t._m(1)])]),s("div",{staticClass:"component-area lst-user"},[s("div",{staticClass:"component-box"},[s("strong",{staticClass:"content__title"},[t._v(" "+t._s(t.deptInfo.deptNm)+" ")])]),s("div",{staticClass:"table-wrap"},[s("table",{staticClass:"table"},[t._m(2),s("tbody",[0==t.userList.lengh?s("tr",[s("td",{attrs:{colspan:"8"}},[t._v("조회된 데이터가 없습니다.")])]):t._e(),t._l(t.userList,(function(e,n){return s("tr",{key:e.userId,staticClass:"row",on:{dblclick:function(s){return t.modifyUser(e)}}},[s("td",[t._v(t._s(n+1))]),s("td",[t._v(t._s(e.userNm))]),s("td",[t._v(t._s(e.empNo))]),s("td",[t._v(t._s(e.phone))]),s("td",[t._v(t._s(e.email))]),s("td",[t._v(t._s(e.rankCdNm))]),s("td",[t._v(t._s(e.empStatusNm))])])}))],2)])])])])]),t.modalFlag?s("RegUserModal",{staticClass:"show",attrs:{deptInfo:t.deptInfo,userInfo:t.userInfo},on:{reSelectUserList:t.selectUserList,sendData:t.sendData}}):t._e()],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"section__title"},[s("span",[t._v("조직도")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"button button__delete",attrs:{type:"button"}},[s("span",{staticClass:"icon icon-delete"}),t._v("선택 삭제 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("No.")]),s("th",[t._v("사원명")]),s("th",[t._v("사원번호")]),s("th",[t._v("휴대폰번호")]),s("th",[t._v("Email")]),s("th",[t._v("직위")]),s("th",[t._v("재직여부")])])])}],i=(s("96cf"),s("1da1")),c=s("5530"),u=s("6a9d"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"component-area"},[s("div",{staticClass:"inner-wrap"},[t._m(0),s("div",{staticClass:"popup-contents"},[s("div",{staticClass:"component-box"},[t._m(1),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deptInfo.deptNm,expression:"deptInfo.deptNm"}],staticClass:"input",attrs:{type:"text",readonly:""},domProps:{value:t.deptInfo.deptNm},on:{input:function(e){e.target.composing||t.$set(t.deptInfo,"deptNm",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(2),s("div",{staticClass:"component-box-cnt"},[t.userVO.modifyYn?s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.userId,expression:"userVO.userId"}],staticClass:"input",attrs:{type:"text",readonly:""},domProps:{value:t.userVO.userId},on:{input:function(e){e.target.composing||t.$set(t.userVO,"userId",e.target.value)}}})]):s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.userId,expression:"userVO.userId"}],ref:"userId",staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.userId},on:{keyup:t.engNumberOnly,input:function(e){e.target.composing||t.$set(t.userVO,"userId",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(3),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.userNm,expression:"userVO.userNm"}],ref:"userNm",staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.userNm},on:{input:function(e){e.target.composing||t.$set(t.userVO,"userNm",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(4),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"int",rawName:"v-int"},{name:"model",rawName:"v-model",value:t.userVO.empNo,expression:"userVO.empNo"}],ref:"empNo",staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.empNo},on:{input:function(e){e.target.composing||t.$set(t.userVO,"empNo",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(5),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.phone,expression:"userVO.phone"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.phone},on:{input:function(e){e.target.composing||t.$set(t.userVO,"phone",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(6),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.email,expression:"userVO.email"}],ref:"email",staticClass:"input",attrs:{type:"email"},domProps:{value:t.userVO.email},on:{input:function(e){e.target.composing||t.$set(t.userVO,"email",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(7),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("select-box",{ref:"empRank",staticClass:"input-select",attrs:{codeGroup:"empRank",defaultVal:t.userVO.rankCd},on:{input:function(e){t.userVO.rankCd=e}},model:{value:t.userVO.rankCd,callback:function(e){t.$set(t.userVO,"rankCd",e)},expression:"userVO.rankCd"}})],1)])]),s("div",{staticClass:"component-box"},[t._m(8),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{ref:"files",staticClass:"input",attrs:{type:"file",accept:"image/*"},on:{change:t.handleFilesUpload}})]),s("canvas",{ref:"imageCanvas",attrs:{id:"imageCanvas",src:t.uploadImagefile,height:"0"}})])]),s("div",{staticClass:"popup-bottom buttons-complete"},[s("div",{staticClass:"buttons"},[s("button",{staticClass:"button button__save",attrs:{type:"submit"},on:{click:t.saveUser}},[t._v("등록")]),s("button",{staticClass:"button button__cancel",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("취소")])])])])]),s("button",{staticClass:"button__close",attrs:{type:"button"},on:{click:t.closeModal}},[s("span",{staticClass:"icon icon-close"}),s("span",{staticClass:"blind"},[t._v("닫기")])])])])},d=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-top"},[s("strong",{staticClass:"popup__title"},[t._v("사용자 등록")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("부서명")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("로그인 아이디")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("사원명")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("사원번호")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("휴대폰번호")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("Email")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("직위")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("사진 등록")])])}],p=(s("d3b7"),s("ddb0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.codeFlag?s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"input-select",on:{input:function(e){return t.updateVal(e.target.value)},change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]}}},t._l(t.codeList,(function(e){return s("option",{key:e.codeId,domProps:{value:e.codeId}},[t._v(t._s(e.int_1+"("+e.codeNm+")-"+e.codeInfo)+" ")])})),0):s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"input-select",on:{input:function(e){return t.updateVal(e.target.value)},change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]}}},t._l(t.codeList,(function(e){return s("option",{key:e.codeId,domProps:{value:e.codeId}},[t._v(t._s(e.codeNm)+" ")])})),0)}),m=[],v=s("4ec3");function f(t){return Object(v["a"])("/common/code/".concat(t),"get")}var _={created:function(){this.getCode()},props:["codeGroup","codeFlag","defaultVal"],methods:{getCode:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f(t.codeGroup);case 2:s=e.sent,t.codeList=s.data[t.codeGroup],t.defaultVal?t.selected=t.defaultVal:t.codeList.length>0&&(t.selected=t.codeList[0].codeId),t.updateVal(t.selected);case 6:case"end":return e.stop()}}),e)})))()},updateVal:function(t){this.$emit("input",t)}},data:function(){return{codeList:[],selected:""}}},b=_,h=s("2877"),C=Object(h["a"])(b,p,m,!1,null,null,null),g=C.exports,x=s("2f62");function O(t){return Object(v["a"])("/user/userList/".concat(t),"get")}function I(t){return Object(v["b"])("/user",t)}function V(t){return Object(v["c"])("/user",t)}function w(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())}var N={mounted:function(){this.userVO=this.userInfo,this.userVO.modifyYn=!0;var t=this.$refs.imageCanvas,e=t.getContext("2d"),s=new Image;s.onload=function(){t.width=100,t.height=100,e.drawImage(s,0,0,100,100)},s.src="http://www.tpsg.co.kr:7979"+this.userInfo.photo,console.log(this.userVO)},components:{SelectBox:g},props:["deptInfo","userInfo"],data:function(){return{userVO:{},files:{},uploadImagefile:""}},methods:Object(c["a"])(Object(c["a"])({},Object(x["d"])(["setUserModal"])),{},{handleFilesUpload:function(t){var e=this,s={};s=this.$refs.files.files;var n=s.size;if(n/1e8>1)alert("100MB 이상의 파일은 올리실 수 없습니다.");else{this.files=s;var a=t.target;if(a.files&&a.files[0]){var o=new FileReader;o.onload=function(t){var s=e.$refs.imageCanvas,n=s.getContext("2d"),a=new Image;a.onload=function(){s.width=100,s.height=100,n.drawImage(a,0,0,100,100)},a.src=t.target.result},o.readAsDataURL(a.files[0])}}},closeModal:function(){this.setUserModal(),this.userVO={},this.files={};var t=this.$refs.imageCanvas,e=t.getContext("2d");this.$refs.files.value=null,e.clearRect(0,0,t.width,t.height),e.beginPath(),this.$emit("sendData")},saveUser:function(){var t=this,e="등록",s=this.userVO.modifyYn;s&&(e="수정"),this.userVO.deptId=this.deptInfo.deptId,this.sConfirm("".concat(e,"하시겠습니까?"),Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,o,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.userVO.userId){e.next=4;break}return t.sAlert("로그인 아이디를 입력해 주세요"),t.$refs.userId.focus(),e.abrupt("return");case 4:if(t.userVO.userNm){e.next=8;break}return t.sAlert("사원명을 입력해 주세요."),t.$refs.userNm.focus(),e.abrupt("return");case 8:if(!t.userVO.email||w(t.userVO.email)){e.next=12;break}return t.sAlert("이메일 형식이 맞지 않습니다."),t.$refs.email.focus(),e.abrupt("return");case 12:n=new FormData,e.t0=regeneratorRuntime.keys(t.userVO);case 14:if((e.t1=e.t0()).done){e.next=22;break}if(a=e.t1.value,o=t.userVO[a],o){e.next=19;break}return e.abrupt("continue",14);case 19:n.append(a,o),e.next=14;break;case 22:for(r=0;r<t.files.length;r++)n.append("files[".concat(r,"]"),t.files[r]);if(console.log(s),!s){e.next=30;break}return e.next=27,V(n);case 27:i=e.sent,e.next=33;break;case 30:return e.next=32,I(n);case 32:i=e.sent;case 33:console.log(i),t.sAlert(i.resultMsg),0==i.result&&(t.$emit("reSelectUserList"),t.closeModal());case 36:case"end":return e.stop()}}),e)}))))}})},k=N,$=Object(h["a"])(k,l,d,!1,null,null,null),y=$.exports,j={created:function(){this.selectDeptList()},computed:Object(c["a"])({},Object(x["c"])(["showUserModal"])),components:{RegUserModal:y},methods:{selectDeptList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["d"])();case 2:s=e.sent,0==s.result&&(t.treeData=s.data,t.treeData.isOpen=!0,t.treeData.length>0&&t.choiceDept(t.treeData[0].children[0]));case 4:case"end":return e.stop()}}),e)})))()},choiceDept:function(t){this.deptInfo.deptNm=t.deptNm,this.deptInfo.deptId=t.deptId,this.selectUserList()},selectUserList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O(t.deptInfo.deptId);case 2:s=e.sent,0==s.result&&(t.userList=s.data);case 4:case"end":return e.stop()}}),e)})))()},modifyUser:function(t){this.modalFlag=!0,this.userInfo=t},sendData:function(){console.log("sendData"),this.modalFlag=!1,this.userInfo={}}},data:function(){return{treeData:[],defaultProps:{children:"children",label:"deptNm"},deptInfo:{deptNm:"",deptId:0},userList:[],userInfo:{},modalFlag:!1}}},L=j,D=Object(h["a"])(L,o,r,!1,null,null,null),U=D.exports,E={components:{UserRegistrationForm:U}},R=E,F=Object(h["a"])(R,n,a,!1,null,null,null);e["default"]=F.exports}}]);
//# sourceMappingURL=chunk-d916b39e.78c478be.js.map