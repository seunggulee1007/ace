(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d9184bf"],{3655:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("PermissionsGroupForm")},n=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container admin-container"},[t._m(0),s("section",{staticClass:"section__contents"},[s("div",{staticClass:"inner-wrap"},[t._m(1),s("div",{staticClass:"component-area"},[s("div",{staticClass:"component-box"},[s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("그룹명")]),s("div",{staticClass:"input-box"},[s("span",{staticClass:"input-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.authGroupVO.useYn,expression:"authGroupVO.useYn"}],attrs:{type:"checkbox",id:"checkboxNotUse","true-value":"N","false-value":"Y"},domProps:{checked:Array.isArray(t.authGroupVO.useYn)?t._i(t.authGroupVO.useYn,null)>-1:t._q(t.authGroupVO.useYn,"N")},on:{change:function(e){var s=t.authGroupVO.useYn,a=e.target,n=a.checked?"N":"Y";if(Array.isArray(s)){var c=null,r=t._i(s,c);a.checked?r<0&&t.$set(t.authGroupVO,"useYn",s.concat([c])):r>-1&&t.$set(t.authGroupVO,"useYn",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.authGroupVO,"useYn",n)}}}),t._m(2)])])]),t.authGroupNmDuple?s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.authGroupVO.authGroupNm,expression:"authGroupVO.authGroupNm"}],staticClass:"input",attrs:{type:"text",readonly:""},domProps:{value:t.authGroupVO.authGroupNm},on:{input:function(e){e.target.composing||t.$set(t.authGroupVO,"authGroupNm",e.target.value)}}}),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.reSearchDuple}},[s("span",{staticClass:"icon icon-check"}),t._v(" 재조회 ")])]):s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.authGroupVO.authGroupNm,expression:"authGroupVO.authGroupNm"}],staticClass:"input",attrs:{type:"text",placeholder:"입력하세요"},domProps:{value:t.authGroupVO.authGroupNm},on:{input:function(e){e.target.composing||t.$set(t.authGroupVO,"authGroupNm",e.target.value)}}}),s("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.confirmDuple}},[s("span",{staticClass:"icon icon-check"}),t._v(" 중복확인 ")])]),s("p",{staticClass:"msg-state"},[t._v(t._s(t.authGroupNmDupleResultMsg))])]),t._m(3),s("div",{staticClass:"component-box"},[s("div",{staticClass:"component-box component-box-top"},[s("p",{staticClass:"component__title"},[t._v("대상자")]),s("div",{staticClass:"buttons"},[s("button",{staticClass:"button button__add",attrs:{type:"button"},on:{click:function(e){t.modalFlag=!t.modalFlag}}},[s("span",{staticClass:"icon icon-add"}),t._v("사원 추가 ")]),t._m(4)])]),s("div",{staticClass:"table-wrap"},[s("table",{staticClass:"table table-hover"},[t._m(5),s("tbody",t._l(t.userList,(function(e,a){return s("tr",{key:e.userId,staticClass:"row"},[s("td",{staticClass:"column-check"},[s("div",{staticClass:"input-box"},[s("span",{staticClass:"input-checkbox"},[s("input",{attrs:{type:"checkbox",id:e.userId}}),s("label",{staticClass:"input-checkbox__label icon-checkbox-purple",attrs:{for:e.userId}},[s("span",{staticClass:"blind"},[t._v("선택")])])])])]),s("td",[t._v(t._s(a+1))]),s("td",[t._v(t._s(e.deptNm))]),s("td",[t._v(t._s(e.userNm)+" "+t._s(e.rankCdNm))]),s("td",[t._v(t._s(e.empStatusNm))])])})),0)])])]),t._m(6)]),s("div",{staticClass:"buttons-complete"},[s("div",{staticClass:"buttons"},[s("button",{staticClass:"button button__save",attrs:{type:"submit"},on:{click:t.saveAuthGroup}},[t._v("등록")])])])])]),t.modalFlag?s("user-modal",{class:{show:t.modalFlag},on:{closeModal:t.closeModal,sendData:t.receiveData}}):t._e()],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"section__tree"},[s("h4",{staticClass:"section__title"},[s("span",[t._v("권한그룹")])]),s("div",{staticClass:"tree-area"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section-top"},[s("h3",{staticClass:"section__title"},[t._v("권한그룹 등록")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("label",{staticClass:"input-checkbox__label  icon-checkbox-purple",attrs:{for:"checkboxNotUse"}},[s("span",[t._v("미 사용 시, 체크하세요")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box"},[s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("그룹코드")])]),s("div",{staticClass:"input-box"},[s("input",{staticClass:"input ",attrs:{type:"text",placeholder:"저장 시, 자동 생성",readonly:""}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"button button__delete",attrs:{type:"button"}},[s("span",{staticClass:"icon icon-delete"}),t._v("선택 삭제 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",{staticClass:"row"},[s("th",{staticClass:"column-check"},[s("div",{staticClass:"input-box"},[s("span",{staticClass:"input-checkbox"},[s("input",{attrs:{type:"checkbox",id:"checkboxSelectAll1"}}),s("label",{staticClass:"input-checkbox__label icon-checkbox-purple",attrs:{for:"checkboxSelectAll1"}},[s("span",{staticClass:"blind"},[t._v("선택")])])])])]),s("th",[t._v("No.")]),s("th",[t._v("부서명")]),s("th",[t._v("사원명")]),s("th",[t._v("재직여부")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box"},[s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("등록일자")])]),s("div",{staticClass:"input-box"},[s("input",{staticClass:"input",attrs:{type:"text",placeholder:"저장 시, 자동 생성",readonly:""}})])])}],o=(s("d3b7"),s("ddb0"),s("96cf"),s("1da1")),i=s("b85c"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup popup__tree popup__lst-user"},[s("div",{staticClass:"component-area"},[s("div",{staticClass:"inner-wrap"},[t._m(0),s("div",{staticClass:"popup-contents"},[t._m(1),s("div",{staticClass:"component-box-wrap"},[s("div",{staticClass:"component-box"},[s("div",{staticClass:"tree-area"},[s("el-tree",{attrs:{data:t.getTreeData,"node-key":"deptId","default-expanded-keys":[0],props:t.defaultProps,accordion:""},on:{"node-click":t.choiceDept}})],1)]),s("div",{staticClass:"component-box search-result-box"},[t._m(2),s("div",{staticClass:"component-box-cnt"},[s("ul",{staticClass:"lst-search-result"},t._l(t.userList,(function(e){return s("li",{key:e.userId,staticClass:"lst-search__item"},[s("div",{staticClass:"input-checkbox"},[s("input",{attrs:{type:"checkbox",id:e.userId},on:{click:function(s){return t.choiceItem(e)}}}),s("label",{staticClass:"input-checkbox__label icon-checkbox-purple",attrs:{for:e.userId}},[s("span",{staticClass:"item__user-name"},[t._v(t._s(e.userNm)+" "+t._s(e.rankCdNm))]),s("span",{staticClass:"item__user-dept"},[t._v(t._s(e.deptNm))])])])])})),0)])])]),s("div",{staticClass:"popup-bottom buttons-complete"},[s("div",{staticClass:"buttons"},[s("button",{staticClass:"button button__save",attrs:{type:"submit"},on:{click:t.choiceUser}},[t._v("선택")]),s("button",{staticClass:"button button__cancel",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("취소")])])])])]),s("button",{staticClass:"button__close",attrs:{type:"button"},on:{click:t.closeModal}},[s("span",{staticClass:"icon icon-close"}),s("span",{staticClass:"blind"},[t._v("닫기")])])])])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-top"},[s("strong",{staticClass:"popup__title"},[t._v("사원 정보")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{attrs:{action:""}},[s("div",{staticClass:"input-box"},[s("input",{staticClass:"input",attrs:{type:"text",placeholder:"사원명을 입력하세요"}}),s("button",{staticClass:"button button__search"},[t._v("조회")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("검색 결과")])])}],p=(s("a434"),s("5530")),h=s("2f62"),d=s("e17e"),m={created:function(){this.selectDeptList()},computed:Object(p["a"])({},Object(h["c"])(["getTreeData"])),data:function(){return{defaultProps:{children:"children",label:"deptNm"},deptInfo:{deptNm:"",deptId:0},userList:[],choiceList:[]}},methods:Object(p["a"])(Object(p["a"])({},Object(h["b"])(["DEPTLIST"])),{},{selectDeptList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.DEPTLIST();case 2:t.getTreeData.length>0&&t.choiceDept(t.getTreeData[0].children[0]);case 3:case"end":return e.stop()}}),e)})))()},choiceDept:function(t){this.deptInfo.deptNm=t.deptNm,this.deptInfo.deptId=t.deptId,this.selectUserList()},choiceItem:function(t){for(var e=!0,s=this.choiceList.length,a=0;a<s;a++){var n=this.choiceList[a];if(n.userId==t.userId){e=!1,this.choiceList.splice(a,1);break}}e&&this.choiceList.push(t)},selectUserList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["b"])(t.deptInfo.deptId);case 2:s=e.sent,console.log(s),0==s.result&&(t.userList=s.data);case 5:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$emit("closeModal")},choiceUser:function(){0!=this.choiceList.length?(this.$emit("sendData",this.choiceList),this.closeModal()):this.sAlert("사용자를 선택해 주세요.")}})},b=m,_=s("2877"),v=Object(_["a"])(b,u,l,!1,null,null,null),f=v.exports,C=s("4ec3");function x(t){return Object(C["a"])("/authGroup/confirmDuple/".concat(t),"get")}function k(t){return Object(C["b"])("/authGroup",t)}function G(t){return Object(C["b"])("/authGroup",t)}var g={components:{UserModal:f},data:function(){return{modalFlag:!1,userList:[],authGroupVO:{useYn:"Y",authGroupNm:""},authGroupNmDuple:!1,authGroupNmDupleResultMsg:"중복 체크해 주세요."}},methods:{closeModal:function(){this.modalFlag=!1},receiveData:function(t){var e,s=Object(i["a"])(t);try{for(s.s();!(e=s.n()).done;){var a=e.value;console.log(a),this.checkRetain(a.userId)||this.userList.push(a)}}catch(n){s.e(n)}finally{s.f()}},checkRetain:function(t){var e,s=Object(i["a"])(this.userList);try{for(s.s();!(e=s.n()).done;){var a=e.value;if(a.userId==t)return!0}}catch(n){s.e(n)}finally{s.f()}return!1},confirmDuple:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.authGroupVO.authGroupNm){e.next=3;break}return t.sAlert("그룹명을 입력해 주세요."),e.abrupt("return");case 3:return e.next=5,x(t.authGroupVO.authGroupNm);case 5:s=e.sent,0==s.result&&(t.authGroupNmDuple=!0),t.authGroupNmDupleResultMsg=s.resultMsg;case 8:case"end":return e.stop()}}),e)})))()},saveAuthGroup:function(){var t=this,e="등록";this.authGroupVO.authGroupId&&(e="수정"),this.sConfirm(e+"하시겠습니까?",Object(o["a"])(regeneratorRuntime.mark((function e(){var s,a,n,c,r,o,u,l,p,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.authGroupVO.authGroupNm){e.next=5;break}return t.sAlert("그룹명을 입력해 주세요."),e.abrupt("return");case 5:if(t.authGroupNmDuple){e.next=10;break}return t.sAlert("그룹 명 중복 체크를 진행해 주세요."),e.abrupt("return");case 10:if(0!=t.userList.length){e.next=13;break}return t.sAlert("대상자를 선택해 주세요."),e.abrupt("return");case 13:for(s=new FormData,a=0;a<t.userList.length;a++)n=t.userList[a],s.append("authUserList[".concat(a,"].userId"),n.userId);e.t0=regeneratorRuntime.keys(t.authGroupVO);case 16:if((e.t1=e.t0()).done){e.next=23;break}if(c=e.t1.value,t.authGroupVO[c]){e.next=20;break}return e.abrupt("continue",16);case 20:s.append(c,t.authGroupVO[c]),e.next=16;break;case 23:r=[],o=Object(i["a"])(s.keys());try{for(o.s();!(u=o.n()).done;)l=u.value,p={},p[l]=s.get(l),r.push(p)}catch(d){o.e(d)}finally{o.f()}if(console.log(r),t.authGroupVO.authGroupId){e.next=33;break}return e.next=30,k(s);case 30:h=e.sent,e.next=36;break;case 33:return e.next=35,G(s);case 35:h=e.sent;case 36:console.log(h),t.sAlert(h.resultMsg);case 38:case"end":return e.stop()}}),e)}))))},reSearchDuple:function(){this.authGroupNmDuple=!1,this.authGroupNmDupleResultMsg="중복 체크해 주세요."}}},O=g,N=Object(_["a"])(O,c,r,!1,null,null,null),y=N.exports,w={components:{PermissionsGroupForm:y}},D=w,I=Object(_["a"])(D,a,n,!1,null,null,null);e["default"]=I.exports},a434:function(t,e,s){"use strict";var a=s("23e7"),n=s("23cb"),c=s("a691"),r=s("50c4"),o=s("7b0b"),i=s("65f0"),u=s("8418"),l=s("1dde"),p=s("ae40"),h=l("splice"),d=p("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,b=Math.min,_=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!h||!d},{splice:function(t,e){var s,a,l,p,h,d,f=o(this),C=r(f.length),x=n(t,C),k=arguments.length;if(0===k?s=a=0:1===k?(s=0,a=C-x):(s=k-2,a=b(m(c(e),0),C-x)),C+s-a>_)throw TypeError(v);for(l=i(f,a),p=0;p<a;p++)h=x+p,h in f&&u(l,p,f[h]);if(l.length=a,s<a){for(p=x;p<C-a;p++)h=p+a,d=p+s,h in f?f[d]=f[h]:delete f[d];for(p=C;p>C-a+s;p--)delete f[p-1]}else if(s>a)for(p=C-a;p>x;p--)h=p+a-1,d=p+s-1,h in f?f[d]=f[h]:delete f[d];for(p=0;p<s;p++)f[p+x]=arguments[p+2];return f.length=C-a+s,l}})},e17e:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"a",(function(){return c})),s.d(e,"c",(function(){return r}));var a=s("4ec3");function n(t){return Object(a["a"])("/user/userList/".concat(t),"get")}function c(t){return Object(a["c"])("/user",t)}function r(t){return Object(a["d"])("/user",t)}}}]);
//# sourceMappingURL=chunk-6d9184bf.bef083d5.js.map