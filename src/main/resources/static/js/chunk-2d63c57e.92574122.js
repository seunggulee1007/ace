(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d63c57e"],{"7d61":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-select input-box input-box-icon"},[t.codeFlag?s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"selectbox",on:{input:function(e){return t.updateVal(e.target.value)},change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]}}},t._l(t.codeList,(function(e){return s("option",{key:e.codeId,domProps:{value:e.codeId}},[t._v(t._s(e.int_1+"("+e.codeNm+")-"+e.codeInfo)+" ")])})),0):s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"selectbox",on:{input:function(e){return t.updateVal(e.target.value)},change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]}}},t._l(t.codeList,(function(e){return s("option",{key:e.codeId,domProps:{value:e.codeId}},[t._v(t._s(e.codeNm)+" ")])})),0),s("span",{staticClass:"icon icon-arrow"})])},a=[],r=s("a34a"),o=s.n(r),i=s("82f8");function c(t,e,s,n,a,r,o){try{var i=t[r](o),c=i.value}catch(u){return void s(u)}i.done?e(c):Promise.resolve(c).then(n,a)}function u(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var r=t.apply(e,s);function o(t){c(r,n,a,o,i,"next",t)}function i(t){c(r,n,a,o,i,"throw",t)}o(void 0)}))}}var l={created:function(){this.getCode()},props:["codeGroup","codeFlag","defaultVal"],methods:{getCode:function(){var t=this;return u(o.a.mark((function e(){var s;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])(t.codeGroup);case 2:s=e.sent,t.codeList=s.data[t.codeGroup],t.defaultVal?t.selected=t.defaultVal:t.codeList.length>0&&(t.selected=t.codeList[0].codeId),t.updateVal(t.selected);case 6:case"end":return e.stop()}}),e)})))()},updateVal:function(t){this.$emit("input",t)}},data:function(){return{codeList:[],selected:""}}},p=l,d=s("2877"),m=Object(d["a"])(p,n,a,!1,null,null,null);e["a"]=m.exports},"82f8":function(t,e,s){"use strict";s.d(e,"a",(function(){return a}));var n=s("4ec3");function a(t){return Object(n["a"])("/common/code/".concat(t),"get")}},d277:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("UserRegistrationForm")},a=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container admin-container"},[s("section",{staticClass:"section__tree"},[s("div",{staticClass:"inner-wrap"},[t._m(0),s("div",{staticClass:"tree-area"},[s("el-tree",{attrs:{data:t.getTreeData,"node-key":"deptId","default-expanded-keys":[0],props:t.defaultProps,accordion:""},on:{"node-click":t.choiceDept}})],1)])]),s("section",{staticClass:"section__contents"},[s("div",{staticClass:"inner-wrap"},[s("div",{staticClass:"section-top"},[t._m(1),s("div",{staticClass:"buttons"},[t.deptInfo.deptId>0?s("button",{staticClass:"button button__add",attrs:{type:"button"},on:{click:function(e){t.modalFlag=!0}}},[s("span",{staticClass:"icon icon-add"}),t._v("사용자 추가 ")]):t._e(),t._m(2)])]),s("div",{staticClass:"component-area lst-user"},[s("div",{staticClass:"component-box"},[s("strong",{staticClass:"content__title"},[t._v(" "+t._s(t.deptInfo.deptNm)+" ")])]),s("div",{staticClass:"table-wrap"},[s("table",{staticClass:"table"},[t._m(3),s("tbody",[0==t.userList.length?s("tr",{staticClass:"row"},[s("td",{staticStyle:{"text-align":"center"},attrs:{colspan:"8"}},[t._v("조회된 데이터가 없습니다.")])]):t._l(t.userList,(function(e,n){return s("tr",{key:e.userId,staticClass:"row",on:{dblclick:function(s){return t.modifyUser(e)}}},[s("td",[t._v(t._s(n+1))]),s("td",[t._v(t._s(e.userNm))]),s("td",[t._v(t._s(e.empNo))]),s("td",[t._v(t._s(t._f("phoneFormat")(e.phone)))]),s("td",[t._v(t._s(e.email))]),s("td",[t._v(t._s(e.rankCdNm))]),s("td",[t._v(t._s(e.empStatusNm))])])}))],2)])])])])]),t.modalFlag?s("RegUserModal",{staticClass:"show",attrs:{deptInfo:t.deptInfo,userInfo:t.userInfo},on:{reSelectUserList:t.selectUserList,sendData:t.receiveData}}):t._e()],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"section__title"},[s("span",[t._v("조직도")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",{staticClass:"section__title"},[s("button",{staticClass:"button__back",attrs:{type:"button"}},[s("span",{staticClass:"icon icon-prev-page-white"}),s("span",{staticClass:"blind"},[t._v("이전페이지")])]),t._v(" 사용자 등록 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"button button__delete",attrs:{type:"button"}},[s("span",{staticClass:"icon icon-delete"}),t._v("선택 삭제 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("No.")]),s("th",[t._v("사원명")]),s("th",[t._v("사원번호")]),s("th",[t._v("휴대폰번호")]),s("th",[t._v("Email")]),s("th",[t._v("직위")]),s("th",[t._v("재직여부")])])])}],i=s("a34a"),c=s.n(i),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"component-area"},[s("div",{staticClass:"inner-wrap"},[t._m(0),s("div",{staticClass:"popup-contents"},[s("div",{staticClass:"component-box"},[t._m(1),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deptInfo.deptNm,expression:"deptInfo.deptNm"}],staticClass:"input",attrs:{type:"text",readonly:""},domProps:{value:t.deptInfo.deptNm},on:{input:function(e){e.target.composing||t.$set(t.deptInfo,"deptNm",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(2),s("div",{staticClass:"component-box-cnt"},[t.userVO.modifyYn?s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.userId,expression:"userVO.userId"}],staticClass:"input",attrs:{type:"text",readonly:""},domProps:{value:t.userVO.userId},on:{input:function(e){e.target.composing||t.$set(t.userVO,"userId",e.target.value)}}})]):s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.userId,expression:"userVO.userId"}],ref:"userId",staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.userId},on:{keyup:t.engNumberOnly,input:function(e){e.target.composing||t.$set(t.userVO,"userId",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(3),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.userNm,expression:"userVO.userNm"}],ref:"userNm",staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.userNm},on:{input:function(e){e.target.composing||t.$set(t.userVO,"userNm",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(4),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"int",rawName:"v-int"},{name:"model",rawName:"v-model",value:t.userVO.empNo,expression:"userVO.empNo"}],ref:"empNo",staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.empNo},on:{input:function(e){e.target.composing||t.$set(t.userVO,"empNo",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(5),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.phone,expression:"userVO.phone"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.phone},on:{input:function(e){e.target.composing||t.$set(t.userVO,"phone",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(6),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.email,expression:"userVO.email"}],ref:"email",staticClass:"input",attrs:{type:"email"},domProps:{value:t.userVO.email},on:{input:function(e){e.target.composing||t.$set(t.userVO,"email",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(7),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("select-box",{ref:"empRank",staticClass:"input-select",attrs:{codeGroup:"empRank",defaultVal:t.userVO.rankCd},on:{input:function(e){t.userVO.rankCd=e}},model:{value:t.userVO.rankCd,callback:function(e){t.$set(t.userVO,"rankCd",e)},expression:"userVO.rankCd"}})],1)])]),t.userVO.modifyYn?s("div",{staticClass:"component-box"},[t._m(8),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("select-box",{ref:"empStatus",staticClass:"input-select",attrs:{codeGroup:"empStatus",defaultVal:t.userVO.empStatus},on:{input:function(e){t.userVO.empStatus=e}},model:{value:t.userVO.empStatus,callback:function(e){t.$set(t.userVO,"empStatus",e)},expression:"userVO.empStatus"}})],1)])]):t._e(),s("div",{staticClass:"component-box"},[t._m(9),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{ref:"files",staticClass:"input",attrs:{type:"file",accept:"image/*"},on:{change:t.handleFilesUpload}})]),s("canvas",{ref:"imageCanvas",attrs:{id:"imageCanvas",src:t.uploadImagefile,height:"0"}})])]),s("div",{staticClass:"popup-bottom buttons-complete"},[s("div",{staticClass:"buttons"},[s("button",{staticClass:"button button__save",attrs:{type:"submit"},on:{click:t.saveUser}},[t._v("등록")]),s("button",{staticClass:"button button__cancel",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("취소")])])])])]),s("button",{staticClass:"button__close",attrs:{type:"button"},on:{click:t.closeModal}},[s("span",{staticClass:"icon icon-close"}),s("span",{staticClass:"blind"},[t._v("닫기")])])])])},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-top"},[s("strong",{staticClass:"popup__title"},[t._v("사용자 등록")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("부서명")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("로그인 아이디")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("사원명")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("사원번호")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("휴대폰번호")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("Email")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("직위")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("상태")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("사진 등록")])])}],p=s("7d61"),d=s("e17e");function m(t){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())}function v(t,e,s,n,a,r,o){try{var i=t[r](o),c=i.value}catch(u){return void s(u)}i.done?e(c):Promise.resolve(c).then(n,a)}function f(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var r=t.apply(e,s);function o(t){v(r,n,a,o,i,"next",t)}function i(t){v(r,n,a,o,i,"throw",t)}o(void 0)}))}}var _={mounted:function(){this.userVO=this.userInfo,this.userInfo.userId&&(this.userVO.modifyYn=!0);var t=this.$refs.imageCanvas,e=t.getContext("2d"),s=new Image;s.onload=function(){t.width=100,t.height=100,e.drawImage(s,0,0,100,100)},s.src="http://www.tpsg.co.kr:7979"+this.userInfo.photo},components:{SelectBox:p["a"]},props:["deptInfo","userInfo"],data:function(){return{userVO:{},files:{},uploadImagefile:""}},methods:{handleFilesUpload:function(t){var e=this,s={};s=this.$refs.files.files;var n=s.size;if(n/1e8>1)alert("100MB 이상의 파일은 올리실 수 없습니다.");else{this.files=s;var a=t.target;if(a.files&&a.files[0]){var r=new FileReader;r.onload=function(t){var s=e.$refs.imageCanvas,n=s.getContext("2d"),a=new Image;a.onload=function(){s.width=100,s.height=100,n.drawImage(a,0,0,100,100)},a.src=t.target.result},r.readAsDataURL(a.files[0])}}},closeModal:function(){this.userVO={},this.files={};var t=this.$refs.imageCanvas,e=t.getContext("2d");this.$refs.files.value=null,e.clearRect(0,0,t.width,t.height),e.beginPath(),this.$emit("sendData")},saveUser:function(){var t=this,e="등록",s=this.userVO.modifyYn;s&&(e="수정"),this.userVO.deptId=this.deptInfo.deptId,this.sConfirm("".concat(e,"하시겠습니까?"),f(c.a.mark((function e(){var n,a,r,o,i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.userVO.userId){e.next=4;break}return t.sAlert("로그인 아이디를 입력해 주세요"),t.$refs.userId.focus(),e.abrupt("return");case 4:if(t.userVO.userNm){e.next=8;break}return t.sAlert("사원명을 입력해 주세요."),t.$refs.userNm.focus(),e.abrupt("return");case 8:if(!t.userVO.email||m(t.userVO.email)){e.next=12;break}return t.sAlert("이메일 형식이 맞지 않습니다."),t.$refs.email.focus(),e.abrupt("return");case 12:n=new FormData,e.t0=c.a.keys(t.userVO);case 14:if((e.t1=e.t0()).done){e.next=22;break}if(a=e.t1.value,r=t.userVO[a],r){e.next=19;break}return e.abrupt("continue",14);case 19:n.append(a,r),e.next=14;break;case 22:for(o=0;o<t.files.length;o++)n.append("files[".concat(o,"]"),t.files[o]);if(!s){e.next=29;break}return e.next=26,Object(d["c"])(n);case 26:i=e.sent,e.next=32;break;case 29:return e.next=31,Object(d["a"])(n);case 31:i=e.sent;case 32:t.sAlert(i.resultMsg),0==i.result&&(t.$emit("reSelectUserList"),t.closeModal());case 34:case"end":return e.stop()}}),e)}))))}}},b=_,h=s("2877"),C=Object(h["a"])(b,u,l,!1,null,null,null),g=C.exports,x=s("2f62");function O(t,e,s,n,a,r,o){try{var i=t[r](o),c=i.value}catch(u){return void s(u)}i.done?e(c):Promise.resolve(c).then(n,a)}function w(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var r=t.apply(e,s);function o(t){O(r,n,a,o,i,"next",t)}function i(t){O(r,n,a,o,i,"throw",t)}o(void 0)}))}}function I(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function V(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?I(Object(s),!0).forEach((function(e){y(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function y(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var k={created:function(){this.selectDeptList()},computed:V({},Object(x["c"])(["getTreeData"])),components:{RegUserModal:g},methods:V(V({},Object(x["b"])(["DEPTLIST"])),{},{selectDeptList:function(){var t=this;return w(c.a.mark((function e(){return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.DEPTLIST();case 2:t.getTreeData.length>0&&t.choiceDept(t.getTreeData[0].children[0]);case 3:case"end":return e.stop()}}),e)})))()},choiceDept:function(t){this.deptInfo.deptNm=t.deptNm,this.deptInfo.deptId=t.deptId,this.selectUserList()},selectUserList:function(){var t=this;return w(c.a.mark((function e(){var s;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["b"])(t.deptInfo.deptId);case 2:s=e.sent,0==s.result&&(t.userList=s.data);case 4:case"end":return e.stop()}}),e)})))()},modifyUser:function(t){this.modalFlag=!0,this.userInfo=t},receiveData:function(){this.modalFlag=!1,this.userInfo={}}}),data:function(){return{defaultProps:{children:"children",label:"deptNm"},deptInfo:{deptNm:"",deptId:0},userList:[],userInfo:{},modalFlag:!1}}},N=k,$=Object(h["a"])(N,r,o,!1,null,null,null),P=$.exports,j={components:{UserRegistrationForm:P}},E=j,L=Object(h["a"])(E,n,a,!1,null,null,null);e["default"]=L.exports},e17e:function(t,e,s){"use strict";s.d(e,"b",(function(){return a})),s.d(e,"a",(function(){return r})),s.d(e,"c",(function(){return o}));var n=s("4ec3");function a(t){return Object(n["a"])("/user/userList/".concat(t),"get")}function r(t){return Object(n["c"])("/user",t)}function o(t){return Object(n["e"])("/user",t)}}}]);
//# sourceMappingURL=chunk-2d63c57e.92574122.js.map