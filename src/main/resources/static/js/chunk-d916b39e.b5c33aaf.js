(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d916b39e"],{"6a9d":function(t,e,s){"use strict";s.d(e,"d",(function(){return a})),s.d(e,"b",(function(){return i})),s.d(e,"e",(function(){return o})),s.d(e,"c",(function(){return r})),s.d(e,"a",(function(){return c}));s("99af");var n=s("4ec3");function a(){return Object(n["a"])("/dept/deptList","get")}function o(t){return Object(n["a"])("/dept/","put",t)}function i(t){return Object(n["a"])("/dept/","post",t)}function c(t){return Object(n["a"])("/dept/".concat(t),"delete")}function r(t,e,s){return Object(n["a"])("/dept/moveDept/".concat(t,"/").concat(e,"/").concat(s),"put")}},d277:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("UserRegistrationForm")},a=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container admin-container"},[s("section",{staticClass:"section__tree"},[t._m(0),s("div",{staticClass:"tree-area"},[s("el-tree",{attrs:{data:t.treeData,"node-key":"deptId","default-expanded-keys":[0],props:t.defaultProps,accordion:""},on:{"node-click":t.choiceDept}})],1)]),s("section",{staticClass:"section__contents"},[s("div",{staticClass:"inner-wrap"},[s("div",{staticClass:"section-top"},[s("h3",{staticClass:"section__title"},[t._v("사용자 등록")]),s("div",{staticClass:"buttons"},[t.deptInfo.deptId>0?s("button",{staticClass:"button button__add",attrs:{type:"button"},on:{click:t.setUserModal}},[s("span",{staticClass:"icon icon-add"}),t._v("사용자 추가 ")]):t._e(),t._m(1)])]),s("div",{staticClass:"component-area lst-user"},[s("div",{staticClass:"component-box"},[s("strong",{staticClass:"content__title"},[t._v(" "+t._s(t.deptInfo.deptNm)+" ")])]),s("div",{staticClass:"table-wrap"},[s("table",{staticClass:"table"},[t._m(2),s("tbody",[0==t.userList.lengh?s("tr",[s("td",{attrs:{colspan:"8"}},[t._v("조회된 데이터가 없습니다.")])]):t._e(),t._l(t.userList,(function(e,n){return s("tr",{key:e.userId,staticClass:"row"},[s("td",[t._v(t._s(n+1))]),s("td",[t._v(t._s(e.userNm))]),s("td",[t._v(t._s(e.empNo))]),s("td",[t._v(t._s(e.phone))]),s("td",[t._v(t._s(e.email))]),s("td",[t._v(t._s(e.rankCdNm))]),s("td",[t._v(t._s(e.empStatusNm))])])}))],2)])])])])]),s("user-modal",{class:{show:t.showUserModal},attrs:{deptInfo:t.deptInfo}})],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",{staticClass:"section__title"},[s("span",[t._v("조직도")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"button button__delete",attrs:{type:"button"}},[s("span",{staticClass:"icon icon-delete"}),t._v("선택 삭제 ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("No.")]),s("th",[t._v("사원명")]),s("th",[t._v("사원번호")]),s("th",[t._v("휴대폰번호")]),s("th",[t._v("Email")]),s("th",[t._v("직위")]),s("th",[t._v("재직여부")])])])}],c=(s("96cf"),s("1da1")),r=s("5530"),l=s("6a9d"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup"},[s("div",{staticClass:"component-area"},[s("div",{staticClass:"inner-wrap"},[t._m(0),s("div",{staticClass:"popup-contents"},[s("div",{staticClass:"component-box"},[t._m(1),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.deptInfo.deptNm,expression:"deptInfo.deptNm"}],staticClass:"input",attrs:{type:"text",readonly:""},domProps:{value:t.deptInfo.deptNm},on:{input:function(e){e.target.composing||t.$set(t.deptInfo,"deptNm",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(2),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.userNm,expression:"userVO.userNm"}],ref:"userNm",staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.userNm},on:{input:function(e){e.target.composing||t.$set(t.userVO,"userNm",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(3),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.empNo,expression:"userVO.empNo"}],ref:"empNo",staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.empNo},on:{input:function(e){e.target.composing||t.$set(t.userVO,"empNo",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(4),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.phone,expression:"userVO.phone"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.userVO.phone},on:{input:function(e){e.target.composing||t.$set(t.userVO,"phone",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(5),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userVO.email,expression:"userVO.email"}],ref:"email",staticClass:"input",attrs:{type:"email"},domProps:{value:t.userVO.email},on:{input:function(e){e.target.composing||t.$set(t.userVO,"email",e.target.value)}}})])])]),s("div",{staticClass:"component-box"},[t._m(6),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("select-box",{ref:"clientKind",staticClass:"input-select",attrs:{codeGroup:"empRank"},on:{input:function(e){t.userVO.rankCd=e}},model:{value:t.userVO.rankCd,callback:function(e){t.$set(t.userVO,"rankCd",e)},expression:"userVO.rankCd"}})],1)])]),s("div",{staticClass:"component-box"},[t._m(7),s("div",{staticClass:"component-box-cnt"},[s("div",{staticClass:"input-box"},[s("input",{ref:"files",staticClass:"input",attrs:{type:"file",accept:"image/*"},on:{change:t.handleFilesUpload}})]),s("canvas",{ref:"imageCanvas",attrs:{id:"imageCanvas",src:t.uploadImagefile,height:"0"}})])])]),s("div",{staticClass:"popup-bottom buttons-complete"},[s("div",{staticClass:"buttons"},[s("button",{staticClass:"button button__save",attrs:{type:"submit"},on:{click:t.saveUser}},[t._v("등록")]),s("button",{staticClass:"button button__cancel",attrs:{type:"button"},on:{click:t.closeModal}},[t._v("취소")])])])]),s("button",{staticClass:"button__close",attrs:{type:"button"},on:{click:t.closeModal}},[s("span",{staticClass:"icon icon-close"}),s("span",{staticClass:"blind"},[t._v("닫기")])])])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-top"},[s("strong",{staticClass:"popup__title"},[t._v("사용자 등록")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("부서명")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("사원명")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("사원번호")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("휴대폰번호")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("Email")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("직위")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"component-box-top"},[s("p",{staticClass:"component__title"},[t._v("사진 등록")])])}],d=(s("d3b7"),s("ddb0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.codeFlag?s("select",{staticClass:"input-select",on:{input:function(e){return t.updateVal(e.target.value)}}},t._l(t.codeList,(function(e){return s("option",{key:e.codeId,domProps:{value:e.codeId}},[t._v(t._s(e.int_1+"("+e.codeNm+")-"+e.codeInfo)+" ")])})),0):s("select",{staticClass:"input-select",on:{input:function(e){return t.updateVal(e.target.value)}}},t._l(t.codeList,(function(e){return s("option",{key:e.codeId,domProps:{value:e.codeId}},[t._v(t._s(e.codeNm)+" ")])})),0)}),m=[],v=s("4ec3");function f(t){return Object(v["a"])("/common/code/".concat(t),"get")}var _={created:function(){this.getCode()},props:["codeGroup","codeFlag"],methods:{getCode:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f(t.codeGroup);case 2:s=e.sent,t.codeList=s.data[t.codeGroup],t.codeList.length>0&&t.$emit("input",t.codeList[0].code);case 5:case"end":return e.stop()}}),e)})))()},updateVal:function(t){this.$emit("input",t)}},data:function(){return{codeList:[]}}},b=_,C=s("2877"),h=Object(C["a"])(b,d,m,!1,null,null,null),g=h.exports,x=s("2f62"),O={components:{SelectBox:g},props:["deptInfo"],data:function(){return{userVO:{},files:{},uploadImagefile:""}},methods:Object(r["a"])(Object(r["a"])({},Object(x["d"])(["setUserModal"])),{},{handleFilesUpload:function(t){var e=this,s={};s=this.$refs.files.files;var n=s.size;if(n/1e8>1)alert("100MB 이상의 파일은 올리실 수 없습니다.");else{this.files=s;var a=t.target;if(a.files&&a.files[0]){var o=new FileReader;o.onload=function(t){var s=e.$refs.imageCanvas,n=s.getContext("2d"),a=new Image;a.onload=function(){s.width=100,s.height=100,n.drawImage(a,0,0,100,100)},a.src=t.target.result},o.readAsDataURL(a.files[0])}}},closeModal:function(){this.setUserModal(),this.files={};var t=this.$refs.imageCanvas,e=t.getContext("2d");this.$refs.files.value=null,e.clearRect(0,0,t.width,t.height),e.beginPath()},saveUser:function(){var t=this;console.log(this.userVO),this.sConfirm("등록하시겠습니까?",Object(c["a"])(regeneratorRuntime.mark((function e(){var s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.userVO.userNm){e.next=3;break}return t.sAlert("사원명을 입력해 주세요."),e.abrupt("return");case 3:s=new FormData,e.t0=regeneratorRuntime.keys(t.userVO);case 5:if((e.t1=e.t0()).done){e.next=13;break}if(n=e.t1.value,a=t.userVO[n],a){e.next=10;break}return e.abrupt("continue",5);case 10:s.append(n,a),e.next=5;break;case 13:t.files&&s.append("file",t.files);case 14:case"end":return e.stop()}}),e)}))))}})},w=O,N=Object(C["a"])(w,u,p,!1,null,null,null),I=N.exports;function k(t){return Object(v["a"])("/user/userList/".concat(t),"get")}var V={created:function(){this.selectDeptList()},computed:Object(r["a"])({},Object(x["c"])(["showUserModal"])),components:{UserModal:I},methods:Object(r["a"])(Object(r["a"])({},Object(x["d"])(["setUserModal"])),{},{selectDeptList:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["d"])();case 2:s=e.sent,0==s.result&&(t.treeData=s.data,t.treeData.isOpen=!0);case 4:case"end":return e.stop()}}),e)})))()},choiceDept:function(t){this.deptInfo.deptNm=t.deptNm,this.deptInfo.deptId=t.deptId,this.selectUserList()},selectUserList:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t.deptInfo),e.next=3,k(t.deptInfo.deptId);case 3:s=e.sent,0==s.result&&(t.userList=s.data);case 5:case"end":return e.stop()}}),e)})))()}}),data:function(){return{treeData:[],defaultProps:{children:"children",label:"deptNm"},deptInfo:{deptNm:"",deptId:0},userList:[]}}},$=V,j=Object(C["a"])($,o,i,!1,null,null,null),y=j.exports,E={components:{UserRegistrationForm:y}},L=E,U=Object(C["a"])(L,n,a,!1,null,null,null);e["default"]=U.exports}}]);
//# sourceMappingURL=chunk-d916b39e.b5c33aaf.js.map